<!DOCTYPE html>
<html>
<head>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { padding: 40px 10px; background: #f0f0f0; }
    .container { padding: 0 10px; max-width: 100%; background: #e0e0e0; }
    svg { background: #d0d0d0; }
    .debug { position: fixed; top: 10px; right: 10px; background: white; padding: 10px; border: 2px solid black; font-family: monospace; font-size: 12px; }
  </style>
</head>
<body>
  <div class="debug" id="debug"></div>
  <div class="container" id="container">
    <svg id="svg"></svg>
  </div>
  <script>
    const container = document.getElementById('container');
    const svg = document.getElementById('svg');
    const debug = document.getElementById('debug');
    
    const CARD_WIDTH = 280;
    const containerWidth = container.clientWidth;
    const width = containerWidth * 0.97;
    const minMargin = CARD_WIDTH / 2 + 15;
    
    svg.setAttribute('width', width);
    svg.setAttribute('height', 400);
    
    const viewportWidth = window.innerWidth;
    const bodyWidth = document.body.clientWidth;
    const containerClientWidth = container.clientWidth;
    const containerOffsetWidth = container.offsetWidth;
    const svgWidth = svg.getAttribute('width');
    
    debug.innerHTML = `
Viewport: ${viewportWidth}px<br>
Body clientWidth: ${bodyWidth}px<br>
Container clientWidth: ${containerClientWidth}px<br>
Container offsetWidth: ${containerOffsetWidth}px<br>
SVG width: ${svgWidth}px<br>
<br>
minMargin: ${minMargin}px<br>
Timeline start: ${minMargin}px<br>
Timeline end: ${width - minMargin}px<br>
<br>
Leftmost card center: ${minMargin}px<br>
Leftmost card left edge: ${minMargin - CARD_WIDTH/2}px<br>
Rightmost card center: ${width - minMargin}px<br>
Rightmost card right edge: ${width - minMargin + CARD_WIDTH/2}px<br>
<br>
Does rightmost card exceed SVG? ${width - minMargin + CARD_WIDTH/2 > width ? 'YES!' : 'No'}
    `;
  </script>
</body>
</html>
